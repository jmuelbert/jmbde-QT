name: jmbde
version: git
version-script: git describe | cut -c 2-
summary: A BDE tool.
description: |
  jmbde is a free bde tool. 
grade: stable
confinement: strict

apps:
  jmbde:
    command: desktop-launch ${SNAP}/usr/bin/jmbde
    desktop: usr/share/applications/com.github.jmuelbet/jmbde.desktop
    plugs: [network]
  
parts:
  jmbde:
    plugin: qmake
    qt-version: qt5
    options:
      - PREFIX=/usr
      - CONFIG+=release
    source: .
    build-packages:
    # FIXME: Python plugin compiles and loads, but can't find platform libraries
    #  - pkg-config
    #  - python-dev
      - qttools5-dev-tools
    #stage-packages:
    #  - libpython2.7
    after: [desktop-qt5]