language: cpp
sudo: required
dist: trusty
os:
- linux
- osx
osx_image: xcode9.4
notifications:
  email: false
compiler:
- gcc
git:
  submodules: true
  depth: 1
deploy:
  provider: releases
  file_glob: true
  skip_cleanup: true
  api_key:
    secure: tC/50y3vOP2cVibAvcT8Yl/wLuI/CaFsErzfyxa2p5eRDRamv5D26Ar6ByAwqeVOBQaYWs6RQr0kt5wJJ9QKIVEud2y6kr7mhDTl5omeIYOgUsv1/c9rryC36NSq2UtQmtJFrubfDDC3rPJsdwqD+h2EZHk5KLzBMITwDkhz86rRsgZXjoELou+8SweeVZXG3Bh+rmEiBmQt8t+SqhD3Dyz5SeH67CpnxQsfoWo8x4A/FfjmzFwq5/WtedNR6Zv8ayQMe/j3GsIPQPkWxkcbOsSb9YThoIPNOPKTICpohX+bJUOMvTr71cDGDhmZaHmyyf9lNAKDotqn8UwUT9TlDq30Hc69DZ8tdeVQFYwKZQkfmhkIFJ2fx5+QRuBtSTJT78inAY2rMvoa8/adiJVhUSPjfgsd6a/U2f4SNCgEqX/cnnCTcLenHF471Q/TkSOUfzCubBzQiW+HN7PyW0gqB9ptA6BK5md4Mltf8gtx1NbRRi9Ow0vqRrgjz3J8tKZCGFjQbKWrpRdVziqxW+oeFVz8RvRWPZf2GprLfNiw4tGJM7xcd0OXPm9A8i7RA7bnLkgFtIA4K0qEmShrByW+oNHkFP3vSmtf90Ek6R7bb8g4Qperw9lzx5WGeLJizwBtt8Fp4XWDBrsMKZr8p1OMMFFBD0nPjgwSefyAPubYa3c=
  file:
  - jmbde-build/src/jmbde/jmbde*.AppImage
  - jmbde-build/src/jmbde/jmbde*.7z
  on:
    tags: true
before_install: "./resources/scripts/.travis-before-install.sh"
install: true
script:
- if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then ./resources/scripts/.travis-install-linux.sh
  ; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then chmod +x ./resources/scripts/.travis-install-osx.sh
  && ./resources/scripts/.travis-install-osx.sh ; fi
