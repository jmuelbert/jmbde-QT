language: cpp
sudo: required
dist: trusty
os:
- linux
- osx
osx_image: xcode9.4
notifications:
  email: false
compiler:
- gcc
git:
  submodules: true
  depth: 1
deploy:
  provider: releases
  file_glob: true
  api_key:
    secure: fj8D6Cc8lt0hsH93EbW7mV53AVa53U8YJO4094hQwpSWp+zzAM6CNTOXdIpURtMHKOH78YTSQcMq2Su9wNkgWH4BrmQknd50vDsK6yk3EdmWtlBP8dtwdR6XQMlJ7X8zDqy9TBdHb1NBEHzWiztugSu0m1vXwEG5qyFnk2jKGBDhSHJTuPH0ZLazTgCRluHJbzoXuhsdTBw6P7I3GZn0Gh+TNvtdVnhKplMTQqSmDwjvsglgCQ51fEA2CCCxuOwumYHU6j29lpocqCvqq8AylqQWzgR8uCFANr/zG5dw+NuPepo1wp2DhibNhg+g3Pj/iTSXQuxT+RvybePOkT+258hWTswcO0jFnPzeSEFt/hPJBgL+zmpDmvqftiL18dYojaA+kPZaEUi+XcrIbnkJT7akcDwVm6V3LXMYqLXDRcp7WoEX6+J5Ri4yJCJ8yxjquoR4fT1uCKBIPKpBx1BSGwzg2K2zpjKS3ynsQ4CQcLWpmb+K1gs9ONdBXmjIOeN1S1GikETx8k163wYtGBRlkqPiMNfnZh+yk6+GEgKmCsWAYvxrtlT2SQVl4ClZ6QlB5L0TTj876X2jR7yOimsv6fmBExsMa4UttK+Cb+WxOKBm3FahCQtuZBBo2pmVeY2HHZlS8uYlAb6noR7vtovbiqvddDe6aO9lphqTUwQ0lhE=
  file: 
    - jmbde-build/src/jmbde/j*.AppImage
    - jmbde-build/src/jmbde/*.7z
  on:
     tags: true
     
before_install: "./resources/scripts/.travis-before-install.sh"
install: true
script:
- if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then ./resources/scripts/.travis-install-linux.sh
  ; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then chmod +x ./resources/scripts/.travis-install-osx.sh
  && ./resources/scripts/.travis-install-osx.sh ; fi
